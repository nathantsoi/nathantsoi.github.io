<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta content='IE=edge;chrome=1' http-equiv='X-UA-Compatible'>
<meta content='width=device-width, initial-scale=1' name='viewport'>
<link href='/favicon/apple-touch-icon-57x57-8e6554ae.png' rel='apple-touch-icon-precomposed' sizes='57x57'>
<link href='/favicon/apple-touch-icon-114x114-e0cb1072.png' rel='apple-touch-icon-precomposed' sizes='114x114'>
<link href='/favicon/apple-touch-icon-72x72-a86b7103.png' rel='apple-touch-icon-precomposed' sizes='72x72'>
<link href='/favicon/apple-touch-icon-144x144-bd50bc10.png' rel='apple-touch-icon-precomposed' sizes='144x144'>
<link href='/favicon/apple-touch-icon-60x60-ca47953b.png' rel='apple-touch-icon-precomposed' sizes='60x60'>
<link href='/favicon/apple-touch-icon-120x120-068de821.png' rel='apple-touch-icon-precomposed' sizes='120x120'>
<link href='/favicon/apple-touch-icon-76x76-2bd34869.png' rel='apple-touch-icon-precomposed' sizes='76x76'>
<link href='/favicon/apple-touch-icon-152x152-da7652e0.png' rel='apple-touch-icon-precomposed' sizes='152x152'>
<link href='/favicon/favicon-196x196-569e78d9.png' rel='icon' sizes='196x196' type='image/png'>
<link href='/favicon/favicon-96x96-d809406c.png' rel='icon' sizes='96x96' type='image/png'>
<link href='/favicon/favicon-32x32-162b5c6d.png' rel='icon' sizes='32x32' type='image/png'>
<link href='/favicon/favicon-16x16-d0c2b051.png' rel='icon' sizes='16x16' type='image/png'>
<link href='/favicon/favicon-128-2f649ba2.png' rel='icon' sizes='128x128' type='image/png'>
<meta content=' ' name='application-name'>
<meta content='#FFFFFF' name='msapplication-TileColor'>
<meta content='/favicon/mstile-144x144-bd50bc10.png' name='msapplication-TileImage'>
<meta content='/favicon/mstile-70x70-2f649ba2.png' name='msapplication-square70x70logo'>
<meta content='/favicon/mstile-150x150-999c62ba.png' name='msapplication-square150x150logo'>
<meta content='/favicon/mstile-310x150-37756fac.png' name='msapplication-wide310x150logo'>
<meta content='/favicon/mstile-310x310-6bd894f0.png' name='msapplication-square310x310logo'>
<title>
Flashing BlHeli on HobbyKing F20 ESCs With a Chinese Arduino Nano Clone
</title>
<link href="/assets/stylesheets/all-f65dd49a.css" rel="stylesheet" />
<script src="/assets/javascripts/all-d5b91b8e.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-7406390-2', 'auto');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  
    // outbound link tracking
    // http://www.sitepoint.com/track-outbound-links-google-analytics/
    (function($) {
      "use strict";
      // current page host
      var baseURI = window.location.host;
      // click event on body
      $("body").on("click", function(e) {
        // abandon if link already aborted or analytics is not available
        if (e.isDefaultPrevented() || typeof ga !== "function") return;
        // abandon if no active link or link within domain
        var link = $(e.target).closest("a");
        if (link.length != 1 || baseURI == link[0].host) return;
        // cancel event and record outbound link
        e.preventDefault();
        var href = link[0].href;
        ga('send', {
          'hitType': 'event',
          'eventCategory': 'outbound',
          'eventAction': 'link',
          'eventLabel': href,
          'hitCallback': loadPage
        });
        // redirect after one second if recording takes too long
        setTimeout(loadPage, 1000);
        // redirect to outbound page
        function loadPage() {
          document.location = href;
        }
      });
    })(jQuery);
</script>

<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
</head>
<body>
<nav class='navbar navbar-default' id='top' role='navigation'>
<div class='container'>
<div class='navbar-header'>
<div class='navbar-brand'>
<a href='/blog/'>
<img src="/assets/images/home/smile-0a95f89f.jpg" />
</a>
<span>Flashing BlHeli on HobbyKing F20 ESCs With a Chinese Arduino Nano Clone</span>
</div>
<button class='navbar-toggle' data-target='.navbar-collapse' data-toggle='collapse' type='button'>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
</button>
<div class='navbar-right collapse navbar-collapse' id='bs-nav-collapse'>
<ul class='nav navbar-nav'>
<li>
<form class='search navbar-form' role='search'>
<div class='form-group'>
<input class='form-control bloodhound typeahead' data-articles='[["STM32 hardfault debugging","/blog/2016/05/04/stm32-hardfault-debugging/"],["Eachine VR-007 Goggle Review","/blog/2016/04/25/eachine-vr-007-goggle-review/"],["Rctimer BeeRotor u210 mini quad build, setup and review","/blog/2016/04/24/rctimer-u210-mini-quad-build-setup-and-review/"],["AirBot Flip32 F3 AIO Lite and Typhoon 4-in-1 ESC","/blog/2016/04/11/airbot-flip32-f3-aio-lite-and-typhoon-4-in-1-esc/"],["DYS X160 v3","/blog/2016/04/05/dys-x160-v3/"],["Turnigy Reaktor 250W Charger","/blog/2016/04/02/turnigy-reaktor-250w-charger/"],["HobbyKing Graphene and Bolt High Voltage LiPo Battery Analysis","/blog/2016/03/25/hobbyking-graphene-battery-analysis/"],["BetaFlight in-flight PID tuning","/blog/2016/03/24/betaflight-in-flight-pid-tuning/"],["Drone Building at Maker Faire Bay Area 2016","/blog/2016/03/23/drone-building-at-maker-faire-bay-area-2016/"],["AVR Dissassembly","/blog/2016/02/25/avr-dissassembly/"],["Victory230 FPV Mini-quad Setup and Review","/blog/2016/02/10/rctimer-victory230-fpv-miniquad/"],["FrSky RX SBUS and Frsky DJT Module","/blog/2016/02/09/airwolf-diy-frsky-rx-sbus/"],["HMDVR FPV Video Recorder","/blog/2016/02/06/hmdvr-fpv-video-recorder/"],["Rctimer BeerotorF3 Flight Controller","/blog/2016/02/03/rctimer-beerotorf3-flight-controller/"],["Flying Sony NEX Micro 4/3rds Camera","/blog/2016/01/29/flying-micro-4-3rds-camera/"],["Q600 Quadcopter","/blog/2016/01/29/rctimer-q600-quadcopter/"],["ASP micro 4/3rds Gimbal and SimpleBGC 32-bit Gimbal Controller","/blog/2016/01/29/rctimer-asp-micro-4-3rds-gimbal-and-simplebgc-32-bit-gimbal-controller/"],["PixHawk Flashing and Setup","/blog/2016/01/29/rctimer-fixhawk-pixhawk-flashing-and-setup/"],["BlHeli ESCs","/blog/2015/12/06/blheli-esc-identification/"],["BlHeli ESC Upgrading and Configuration","/blog/2015/12/06/blheli-configuration/"],["BlHeli CleanFlight ESC Calibration","/blog/2015/12/06/blheli-calibration/"],["Rctimer Micro 160 BeeRotor Build, Setup and Review","/blog/2015/12/05/rctimer-micro-160-beerotor-build-setup-and-review/"],["Flashing SiLabs xRotor 20a with BlHeli via C2 4w-if","/blog/2015/11/16/flashing-xrotor-20a-with-blheli-via-4w-if/"],["Rctimer OZE32 / RTFQ Flip32 AIO Integrated Flight Controller Review and Setup","/blog/2015/11/09/rctimer-oze32-integrated-flight-controller-review-and-setup/"],["Rooting Marshmellow, keeping SELinux","/blog/2015/11/03/rooting-marshmellow-keeping-selinux/"],["MultiRotor Setup Checklist","/blog/2015/10/29/multirotor-setup-checklist/"],["ST-LINK flash and debug on the SPRacingF3","/blog/2015/10/24/st-link-flash-and-debug-on-the-spracingf3-discovery/"],["Debugging Android Native (NDK) Apps","/blog/2015/09/27/debugging-android-native-ndk-apps/"],["Fixing an Arduino 0x000000 Error","/blog/2015/09/16/fixing-an-arduino-0x000000-error/"],["GPS VK16U6 CleanFlight Setup","/blog/2015/08/26/gps-vk16u6-cleanflight-setup/"],["Go FPV Latency Testing","/blog/2015/08/24/go-fpv-latency-testing/"],["Building Android on Ubuntu 14.04","/blog/2015/07/23/building-android-on-ubuntu-14-04/"],["Migrating to Amazon Elastic Map Reduce (EMR)","/blog/2015/07/15/migrating-to-amazon-elastic-map-reduce-emr/"],["Naze32 ST-Link Debugging","/blog/2015/07/06/naze32-st-link-debugging/"],["Decompiling an APK","/blog/2015/06/30/decompiling-an-apk/"],["Nexpose Community Edition copy Scan Template","/blog/2015/06/17/nexpose-community-edition-copy-scan-template/"],["Wireless Video Tx/Rx FPV Channels","/blog/2015/06/17/boscam-tx-rx-fpv-channels/"],["Making a UHF 433mhz Inverted Vee Antenna Set","/blog/2015/06/15/making-a-uhf-433mhz-inverted-vee-antenna-set/"],["Setup OrangeLRS with OpenLRSng","/blog/2015/05/21/setup-orangelrs-with-openlrsng/"],["Go FPV Goggles","/blog/2015/05/21/go-fpv-goggles/"],["FPV250 with Cleanflight, Minimosd, OpenLRSng and a Xiaomi Yi GoPro Clone","/blog/2015/05/19/fpv250-cleanflight/"],["Flashing BlHeli on HobbyKing BlueSeries 12a ESCs With a Chinese Arduino Nano Clone","/blog/2015/05/15/flashing-blheli-on-hobbyking-blueseries-12a-escs-with-a-chinese-arduino-nano-clone/"],["Flashing NodeMCU on the ESP8266","/blog/2015/05/14/flashing-nodemcu-on-the-esp8266/"],["Ebay HC-05 Bluetooth Setup Guide","/blog/2015/05/12/ebay-hc-05-bluetooth-setup-guide/"],["3D Camera on the Tricopter","/blog/2015/05/12/3d-camera-on-the-tricopter/"],["ProRes editing in Premier","/blog/2015/05/11/prores-editing-in-photoshop/"],["Xiaomi Yi -- The Ant Camera","/blog/2015/05/08/xiaomi-yi-the-ant-camera/"],["Minim OSD","/blog/2015/04/22/minim-osd/"],["Flashing BlHeli on HobbyKing F20 ESCs With a Chinese Arduino Nano Clone","/blog/2015/04/20/flashing-blheli-on-hobbyking-f20-escs-with-a-chinese-arduino-nano-clone/"],["Handling Dates in Hadoop Pig","/blog/2015/04/17/handling-dates-in-hadoop-pig/"],["LiPo Battery Price Analysis","/blog/2015/04/10/lipo-battery-price-analysis/"],["ADB over WiFi (aka, how do I debug when using USB host mode?)","/blog/2015/03/27/adb-over-wifi-aka-how-do-i-debug-when-using-usb-host-mode/"],["Shrink a linux VM on OSX","/blog/2015/03/18/shrink-a-linux-vm-on-osx/"],["Mounting a VHD NTFS image on Ubuntu","/blog/2015/02/27/mounting-a-vhd-ntfs-image-on-ubuntu/"],["Ubuntu on the Beaglebone Black","/blog/2015/01/16/ubuntu-on-the-beaglebone-black/"],["Configuring the HK-T6A for a Flight Simulator","/blog/2015/01/02/configuring-the-hk-t6a-for-a-flight-simulator/"],["A complete noob&#x0027;s guide to RC","/blog/2015/01/02/a-complete-noobs-guide-to-rc/"],["DropCam on a Captive Portal","/blog/2014/11/17/dropcam-on-a-captive-portal/"],["Java reversing tips","/blog/2014/09/18/java-reversing-tips/"],["Ooize Data Pipeline Done-Flag","/blog/2014/09/02/oozie-data-pipeline-done-flag/"],["Time Machine on exFat","/blog/2014/08/06/Time_Machine_on_exFat/"],["Optimizing Postgresql","/blog/2014/01/31/Optimizing_Postgresql/"],["Mail Maker","/blog/2014/01/24/Mail_Maker/"],["Angularjs and Rails","/blog/2013/07/12/Angularjs_and_Rails/"],["nginx ssl chained certs","/blog/2013/04/24/nginx_ssl_chained_certs/"],["rails log tagging","/blog/2013/04/24/rails_log_tagging/"],["Converting an Android Project to Maven","/blog/2013/04/16/Converting_an_Android_Project_to_Maven/"],["Oh! Map my rails!","/blog/2013/04/09/Oh_Map_my_rails/"],["mysql permissions","/blog/2013/04/09/mysql_permissions/"],["reset mysql slave","/blog/2013/03/29/reset_mysql_slave/"],["installing rmagick on 10.8 with homebrew","/blog/2013/02/14/installing_rmagick_on_108_with_homebrew/"],["NP-Completeness","/blog/2013/02/08/NP-Completeness/"],["Find and replace non-breaking spaces in vim","/blog/2013/02/01/Find_and_replace_non-breaking_spaces_in_vim/"],["Open Resty the Prebuilt Reverse Proxy","/blog/2013/02/01/Open_Resty_the_Prebuilt_Reverse_Proxy/"],["Sublime Text 2 Tweaks","/blog/2012/12/17/Sublime_Text_2_Tweaks/"],["Batch Convert CR2 to JPG","/blog/2012/12/01/Batch_Convert_CR2_to_JPG/"],["Androids in the wild","/blog/2012/06/30/Androids_in_the_wild/"],["Why you need database_cleaner","/blog/2012/06/11/Why_you_need_database_cleaner/"],["Find and replace in files on linux/unix","/blog/2012/05/12/Find_and_replace_in_files_on_linuxunix/"],["a pithy guide to railsconf 2012","/blog/2012/04/26/a_pithy_guide_to_railsconf_2012/"],["faster rails boot ruby 1.9.3 + debugger","/blog/2012/04/12/faster_rails_boot_ruby_193_debugger/"],["homebrew -- fix that nasty mysql.server start segfault","/blog/2012/03/29/homebrew_--_fix_that_nasty_mysqlserver_start_segfault/"],["read/write filesystem on rooted android for an ad-free android experience","/blog/2012/02/14/readwrite_filesystem_on_rooted_android_for_an_ad-free_android_experience/"],["Turn Wikipedia Back On","/blog/2012/01/17/Turn_Wikipedia_Back_On/"],["compiling qt4 on centos 5","/blog/2012/01/06/compiling_qt4_on_centos_5/"],["pip install pymongo with xcode 4","/blog/2011/08/09/pip_install_pymongo_with_xcode_4/"],["interactive python history -- better titled \"gimme some up arrow love\"","/blog/2011/08/05/interactive_python_history_--_better_titled_gimme_some_up_arrow_love/"],["Centos 5.5 yum repo sha256 fix","/blog/2011/07/27/Centos_55_yum_repo_sha256_fix/"],["Apple Keyboard for Android!","/blog/2011/07/15/Apple_Keyboard_for_Android/"],["jQuery Everywhere","/blog/2011/05/24/jQuery_Everywhere/"],["Django Migrations","/blog/2011/05/11/Django_Migrations/"],["RVM + Rails + Git + HTML5 Boiler Plate... What more could you possibly want?","/blog/2011/02/22/RVM_Rails_Git_HTML5_Boiler_Plate_What_more_could_you_possibly_want/"],["OneCast 2.0 - downloadable podcasts for androids of every color","/blog/2011/02/18/OneCast_20_-_downloadable_podcasts_for_androids_of_every_color/"],["Default Android Menu Icons in Your App","/blog/2011/02/17/Default_Android_Menu_Icons_in_Your_App/"],["Windows 7 x64 Android Development (ADB)","/blog/2010/11/06/Windows_7_x64_Android_Development_ADB/"],["Firefox Plugin - Watching for an Application Exit Event","/blog/2010/05/03/Firefox_Plugin_-_Watching_for_an_Application_Exit_Event/"],["Stop Redrawing a Fixed Orientation Android App","/blog/2010/03/08/Stop_Redrawing_a_Fixed_Orientation_Android_App/"]]' placeholder='Search' type='text'>
</div>
</form>
</li>
</ul>
</div>
</div>
</div>
</nav>

<div class='container'>
<div class='row row-offcanvas row-offcanvas-left'>
<!-- sidebar -->
<div class='col-xs-3 col-sm-3 sidebar-offcanvas'>
<div id='sidebar' role='navigation'>
<div class='sidebar-contents'>
<div class='row'>
<div class='col-lg-12 page-header'>
<a href='#top'>Contents</a>
</div>
</div>
<div class='row'>
<div class='col-lg-12 table-of-contents'>
<ul class="nav"><li><a class="type-h3" href="#tools"><h3>Tools</h3></a></li><ul><li><a class="type-h4" href="#windows"><h4>Windows</h4></a></li>
<li><a class="type-h4" href="#blheli-suite"><h4>BlHeli Suite</h4></a></li>
<li><a class="type-h4" href="#programming-cable"><h4>Programming Cable</h4></a></li></ul>
<li><a class="type-h3" href="#program"><h3>Program</h3></a></li>
<li><a class="type-h3" href="#settings"><h3>Settings</h3></a></li>
<li><a class="type-h3" href="#calibrate"><h3>Calibrate</h3></a></li>
<li><a class="type-h3" href="#light-dampening-upgrading-and-changing-settings"><h3>Light Dampening, Upgrading and Changing settings</h3></a></li>
<li><a class="type-h3" href="#reading"><h3>Reading</h3></a></li></ul>
</div>
</div>
<div class='row'>
<div class='col-lg-12 page-header'>
Related Articles
</div>
</div>
<div class='row'>
<div class='col-lg-12 related'>
<ul>
<li><a href="/blog/2015/12/06/blheli-configuration/">BlHeli ESC Upgrading and Configuration</a></li>
<li><a href="/blog/2015/11/16/flashing-xrotor-20a-with-blheli-via-4w-if/">Flashing SiLabs xRotor 20a with BlHeli via C2 4w-if</a></li>
<li><a href="/blog/2016/04/11/airbot-flip32-f3-aio-lite-and-typhoon-4-in-1-esc/">AirBot Flip32 F3 AIO Lite and Typhoon 4-in-1 ESC</a></li>
<li><a href="/blog/2016/02/06/hmdvr-fpv-video-recorder/">HMDVR FPV Video Recorder</a></li>
<li><a href="/blog/2016/03/25/hobbyking-graphene-battery-analysis/">HobbyKing Graphene and Bolt High Voltage LiPo Battery Analysis</a></li>
<li><a href="/blog/2015/05/21/setup-orangelrs-with-openlrsng/">Setup OrangeLRS with OpenLRSng</a></li>
</ul>
</div>
</div>
<div class='row'>
<div class='col-lg-12 page-header'></div>
</div>
<div class='row'>
<div class='col-lg-12 text-center'>
Checkout my other guides at
<a href='/blog'>nathan.vertile.com/blog</a>
</div>
</div>
<div class='row'>
<div class='col-lg-12 page-header text-center'>
<div class='drawer-footer'>
<small>
©
<a href='mailto:nathan@vertile.com'>Nathan Tsoi</a>
</small>
</div>
</div>
</div>
<div class='row last'>
<div class='col-lg-12 text-center'>
<a class='btn-sm btn-default' href='https://github.com/nathantsoi' target='_blank'>
<i class='fa fa-github'></i>
</a>
<a class='btn-sm btn-default' href='https://bitbucket.org/nathantsoi' target='_blank'>
<i class='fa fa-bitbucket'></i>
</a>
<a class='btn-sm btn-default' href='https://twitter.com/nathantsoi/' target='_blank'>
<i class='fa fa-twitter'></i>
</a>
<a class='btn-sm btn-default' href='https://angel.co/nathantsoi' target='_blank'>
<i class='fa fa-angellist'></i>
</a>
<a class='btn-sm btn-default' href='https://linkedin.com/in/nattsoi/' target='_blank'>
<i class='fa fa-linkedin'></i>
</a>
<a class='btn-sm btn-default' href='https://facebook.com/nathantsoi' target='_blank'>
<i class='fa fa-facebook'></i>
</a>
<a class='btn-sm btn-default' href='https://plus.google.com/112518806102274696668' target='_blank'>
<i class='fa fa-google-plus'></i>
</a>
<a class='btn-sm btn-default' href='https://news.ycombinator.com/user?id=natvert' target='_blank'>
<i class='fa fa-hacker-news'></i>
</a>
<a class='btn-sm btn-default' href='https://trello.com/nathantsoi' target='_blank'>
<i class='fa fa-trello'></i>
</a>
</div>
</div>
</div>
</div>
</div>

<!-- main area -->
<div class='col-sm-9 col-xs-12' id='mainbar'>
<article>
<p>This guide will walk you through installing BlHeli and the BlHeli bootloader on <a href="http://www.hobbyking.com/hobbyking/store/__15202__Hobby_King_20A_ESC_3A_UBEC.html?aff=1624906">HobbyKing F20 ESCs</a>.</p>

<h3 id="tools">Tools</h3>

<p>Arduino Here is the <a href="http://www.banggood.com/ATmega328P-Arduino-Compatible-Nano-V3-Improved-Version-No-Cable-p-959231.html?p=1G09211226617201502J">$3.60 Chinese Arduino Nano Clone</a> I used:</p>

<div class='ratio-box-resizer img-quarter-width'><div class='ratio-box' style='padding-bottom: 39.16015625%;'><a id="assets-images-blog-nano-clone-pins-c-f-jpg" href="http://www.banggood.com/ATmega328P-Arduino-Compatible-Nano-V3-Improved-Version-No-Cable-p-959231.html?p=1G09211226617201502J" class="linked-img "><img src='/assets/images/blog/nano_clone/pins-213c49f8.jpg' class='trailing-space' ></img></a></div></div>

<p>If you use this specific Nano clone, it uses a ch340g usb chip, the driver for which is here: <a href="http://www.wch.cn/downfile/65">http://www.wch.cn/downfile/65</a></p>

<p>&nbsp; </p>

<h4 id="windows">Windows</h4>

<ul>
<li>Since we&#39;ll be using BlHeli&#39;s Windows app to flash the ESCs, You&#39;ll need a VM. I have a mac, skip this if you already have Windows. I used Vmware Fusion <a href="https://www.modern.ie/en-us/virtualization-tools">this free Windows XP VM</a>, straight from Microsoft:</li>
</ul>
<pre class="highlight plaintext"><code>curl -O -L "https://www.modern.ie/vmdownload?browserOS=IE6-XP&amp;parts=2&amp;platform=Mac&amp;virtPlatform=vmware&amp;filename=VMBuild_20141027/VMware/IE6/Mac/IE6.XP.For.Mac.VMware.zip{.001,.002}"
</code></pre>

<p>&nbsp; </p>

<h4 id="blheli-suite">BlHeli Suite</h4>

<p>Download the latest BlHeli Suite: <a href="http://blhelisuite.wordpress.com">blhelisuite.wordpress.com</a>.</p>

<p>&nbsp; </p>

<h4 id="programming-cable">Programming Cable</h4>

<p>With the HobbyKing F20 ESCs, you won&#39;t need a special cable that attaches directly to the chip, but you&#39;ll need to solder cables onto the pads or build a cable that can attach temporarily to these pads on the F20. I took an old ribbon cable with an 8 pin com adapter, cut it and re-arranged the pins to match the standard ISP header using clear packing tape to hold them in place. Then I taped this cable to a left over part of a paint stick:</p>

<p>&nbsp; </p>

<p>There were a few issues with this. First, the ISP header on the Arduino Nano is for programming the Arduino, not the ESC. So then I re-wired the ISP header to paint stick to the Arduino&#39;s MOSI/MISO/SS(Reset)/SCK/+5V/GND from the Nano&#39;s Pinout table. Notice the blue labels:</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 70.80078125%;'><a id="assets-images-blog-nano-clone-nano-pinout-ecbf-jpg" href="/assets/images/blog/nano_clone/nano_pinout-049ecbf1.jpg" class="linked-img colorbox"><img src='/assets/images/blog/nano_clone/nano_pinout-049ecbf1.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp; </p>

<p>For example, physical pin (dark grey in the chart above) 15 (MOSI) should go to MOSI on the ESC. SS on the Nano pinout goes to Reset on the ESC:</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 66.2109375%;'><a id="assets-images-blog-nano-clone-esc-pins-e-c-jpg" href="/assets/images/blog/nano_clone/esc_pins-3051e7c2.jpg" class="linked-img colorbox"><img src='/assets/images/blog/nano_clone/esc_pins-3051e7c2.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp; </p>

<p>Since I thought the Nano&#39;s ISP header could be used to program the ESC, I had already wired up this 6 pin adapter, so I just jumped it to the right pins on the Arduino, but you could skip this and wire straight from the Arduino to the programmer (ie. paint stick):</p>

<div class='ratio-box-resizer img-quarter-width'><div class='ratio-box' style='padding-bottom: 95.60546875%;'><a id="assets-images-blog-nano-clone-isp-header-fd-b-e-jpg" href="/assets/images/blog/nano_clone/isp_header-4fd56b8e.jpg" class="linked-img colorbox"><img src='/assets/images/blog/nano_clone/isp_header-4fd56b8e.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp; </p>

<p>Here&#39;s what I ended up with:</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 79.78515625%;'><a id="assets-images-blog-nano-clone-programmer-aa-b-jpg" href="/assets/images/blog/nano_clone/programmer-60aa9b93.jpg" class="linked-img colorbox"><img src='/assets/images/blog/nano_clone/programmer-60aa9b93.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp; </p>

<h3 id="program">Program</h3>

<p>Boot your <a href="https://www.modern.ie/en-us/virtualization-tools">VM</a> (if you&#39;re on a Mac), unzip BlHeliSuite, install the <a href="http://www.wch.cn/downfile/65">Arduino USB Driver</a> and plug in the Arduino.</p>

<p>Find the COM port in use by your adapter by looking in the Computer Management (Right-Click &quot;My Computer&quot; -&gt; &quot;Manage&quot;) under Device Manager, COM ports. Mine is COM3</p>

<p>Open the Interfaces for Atmel tab and pick the Nano W/ ATmega328 Arduino Board, your COM port and click &quot;Make ArduinoISP Programmer&quot;</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 76.46484375%;'><a id="assets-images-blog-blheli-guide-b-bd-ef-jpg" href="/assets/images/blog/blheli_guide/1-1b1bd9ef.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/1-1b1bd9ef.jpg' class='trailing-space' ></img></a></div></div>

<p>It will tell you what to do next, just click OK</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 32.51953125%;'><a id="assets-images-blog-blheli-guide-d-d-jpg" href="/assets/images/blog/blheli_guide/1.5-d704d466.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/1.5-d704d466.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp; </p>

<p>Select the ISP interface from the ATMEL/SILABS menu option</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 76.46484375%;'><a id="assets-images-blog-blheli-guide-b-fb-jpg" href="/assets/images/blog/blheli_guide/2-9b64fb38.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/2-9b64fb38.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp; </p>

<p>Switch to the Atmel BESC Setup tab and pick the ArduinoISP (Arduino as ISP Interface) ISP programmer in the dropdown at the bottom along with your COM port and Baud: 19200</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 76.46484375%;'><a id="assets-images-blog-blheli-guide-eefb-d-jpg" href="/assets/images/blog/blheli_guide/3-eefb37d2.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/3-eefb37d2.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp; </p>

<p>Connect your programmer</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 54.78515625%;'><a id="assets-images-blog-nano-clone-connect-programmer-ce-d-jpg" href="/assets/images/blog/nano_clone/connect_programmer-7ce04d96.jpg" class="linked-img colorbox"><img src='/assets/images/blog/nano_clone/connect_programmer-7ce04d96.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp; </p>

<p>Press &quot;Read setup&quot;</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 76.46484375%;'><a id="assets-images-blog-blheli-guide-d-jpg" href="/assets/images/blog/blheli_guide/4-d3817667.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/4-d3817667.jpg' class='trailing-space' ></img></a></div></div>

<p>Note, If this fails, check to make sure your programmer is properly connected and try again. If the programmer is connected, you may need to reset the Arduino ISP programmer by pressing the button on the Arduino. I found that even after pressing the button, it would sometimes fail to read. In this case, clicking &quot;Read setup&quot; again, without changing anything appeared to work.</p>

<div class='ratio-box-resizer img-quarter-width'><div class='ratio-box' style='padding-bottom: 39.16015625%;'><a id="assets-images-blog-nano-clone-button-b-jpg" href="/assets/images/blog/nano_clone/button-b2106474.jpg" class="linked-img colorbox"><img src='/assets/images/blog/nano_clone/button-b2106474.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp; </p>

<p>You&#39;ll see a confirmation box like this, click OK</p>

<div class='ratio-box-resizer img-quarter-width'><div class='ratio-box' style='padding-bottom: 46.19140625%;'><a id="assets-images-blog-blheli-guide-d-e-jpg" href="/assets/images/blog/blheli_guide/5-d85528e5.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/5-d85528e5.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp;</p>

<p>Pick the version of BlHeli that corresponds to your ESC, in this example we&#39;re using the <code>HK_UBEC_20A_MULTI</code> code. There are 3 versions of BlHeli, since I&#39;m building a tricopter, I&#39;ll use Multi.</p>

<ul>
<li>Main: Intended for helicopter main motor</li>
<li>Tail: Intended for helicopter tail motor</li>
<li>Multi: Intended for multirotor motors</li>
</ul>

<p>&nbsp;</p>

<p>It will ask you to confirm you want to flash. Something like this, I was too busy holding the programming cable to take a screen shot to get one of my config, but I didn&#39;t change anything, left the bootloader pin on the servo cable, locked the bootloader and installed the BlHeli Bootloader -- just hit Yes. (This screenshot is obviously for an Afro 20a ESC)</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 69.82421875%;'><a id="assets-images-blog-blheli-guide-c-c-jpg" href="/assets/images/blog/blheli_guide/6-33c2385c.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/6-33c2385c.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp;</p>

<p>It takes about 30 seconds to write the firmware and you should see your Arduino&#39;s lights flashing. You&#39;ll get a confirmation in the BlHeliSuite and you&#39;re done!</p>

<h3 id="settings">Settings</h3>

<p>Note that OneShot125 will be automatically detected, no need to change any settings for this.</p>

<p>Turn on light damping, if you&#39;re into that. This setting will actively slow down your props when you throttle down, which gives you even better control. A word of warning though, this can potentially burn out your ESCs and my motors twitch with this turned on. Some of my motors even continue running very slowly when the throttle is at 0%.</p>

<div class='ratio-box-resizer img-quarter-width'><div class='ratio-box' style='padding-bottom: 31.34765625%;'><a id="assets-images-blog-blheli-guide-dampening-a-aa-jpg" href="/assets/images/blog/blheli_guide/dampening-a18aa411.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/dampening-a18aa411.jpg' class='trailing-space' ></img></a></div></div>

<p>Set PWM Min and MAX to 1000 and 2000 respectively, this will obviate the need to calibrate -- if you do this, you can skip step 3.</p>

<div class='ratio-box-resizer img-quarter-width'><div class='ratio-box' style='padding-bottom: 61.62109375%;'><a id="assets-images-blog-blheli-guide-pulse-width-d-f-jpg" href="/assets/images/blog/blheli_guide/pulse_width-d23858f2.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/pulse_width-d23858f2.jpg' class='trailing-space' ></img></a></div></div>

<p>I like to turn down the beep volume, so I don&#39;t wake up the family when I&#39;m working on this late at night.</p>

<div class='ratio-box-resizer img-quarter-width'><div class='ratio-box' style='padding-bottom: 31.54296875%;'><a id="assets-images-blog-blheli-guide-beep-volume-ef-jpg" href="/assets/images/blog/blheli_guide/beep_volume-2784ef67.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/beep_volume-2784ef67.jpg' class='trailing-space' ></img></a></div></div>

<h3 id="calibrate">Calibrate</h3>

<p>If you set the PWM Min/Max when programming, you can skip this.</p>

<p>If you&#39;re using OneShot125 on your flight controller, you can skip this.</p>

<p>Plugin your ESC and a motor to test it out. You&#39;ll want to calibrate your throttle on first boot. For a PPM receiver (I use a FlySky), power it on and when you hear the three tones, push the throttle to the max. Wait for the ascending beeps to finish and then pull the throttle to the bottom. You&#39;ll hear some descending beeps when calibration is finished. Unplug the ESC and wait a sec. Plug it back and and you&#39;re good to go. You should hear a series of about 3 fast beeps then two more beeps -- you&#39;re ready to go!</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 126.88971499380422%;'><a id="assets-images-blog-blheli-guide-bfacde-b-jpg" href="/assets/images/blog/blheli_guide/7-bfacde2b.jpg" class="linked-img colorbox"><img src='/assets/images/blog/blheli_guide/7-bfacde2b.jpg' class='trailing-space' ></img></a></div></div>

<h3 id="light-dampening-upgrading-and-changing-settings">Light Dampening, Upgrading and Changing settings</h3>

<p>Checkout the guide on <a href="/blog/2015/12/06/blheli-configuration/">Updating and Configuring BlHeli</a>.</p>

<h3 id="reading">Reading</h3>

<p>The <a href="https://raw.githubusercontent.com/bitdump/BLHeli/master/Atmel/BLHeli%20manual%20Atmel%20Rev14.x.pdf">manual</a> to learn more.</p>

<p><a href="http://buildandcrash.blogspot.com/2015/01/oneshot125-quantitative-testing.html">OneShot125 Testing</a></p>

<p><a href="https://github.com/TauLabs/TauLabs/wiki/User-Guide:-OneShot125">TauLabs 125 Explanation</a></p>

<div class='text-center' style='margin: 1em'>
Checkout my other guides at
<a href='/blog'>nathan.vertile.com/blog</a>
</div>
<div id="disqus_thread"></div>
<script type="text/javascript">
//<![CDATA[
                  var disqus_shortname = 'vertile';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</article>

</div>
</div>
</div>
</body>
</html>

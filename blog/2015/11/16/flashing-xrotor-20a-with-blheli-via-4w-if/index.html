<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta content='IE=edge;chrome=1' http-equiv='X-UA-Compatible'>
<meta content='width=device-width, initial-scale=1' name='viewport'>
<link href='/favicon/apple-touch-icon-57x57-8e6554ae.png' rel='apple-touch-icon-precomposed' sizes='57x57'>
<link href='/favicon/apple-touch-icon-114x114-e0cb1072.png' rel='apple-touch-icon-precomposed' sizes='114x114'>
<link href='/favicon/apple-touch-icon-72x72-a86b7103.png' rel='apple-touch-icon-precomposed' sizes='72x72'>
<link href='/favicon/apple-touch-icon-144x144-bd50bc10.png' rel='apple-touch-icon-precomposed' sizes='144x144'>
<link href='/favicon/apple-touch-icon-60x60-ca47953b.png' rel='apple-touch-icon-precomposed' sizes='60x60'>
<link href='/favicon/apple-touch-icon-120x120-068de821.png' rel='apple-touch-icon-precomposed' sizes='120x120'>
<link href='/favicon/apple-touch-icon-76x76-2bd34869.png' rel='apple-touch-icon-precomposed' sizes='76x76'>
<link href='/favicon/apple-touch-icon-152x152-da7652e0.png' rel='apple-touch-icon-precomposed' sizes='152x152'>
<link href='/favicon/favicon-196x196-569e78d9.png' rel='icon' sizes='196x196' type='image/png'>
<link href='/favicon/favicon-96x96-d809406c.png' rel='icon' sizes='96x96' type='image/png'>
<link href='/favicon/favicon-32x32-162b5c6d.png' rel='icon' sizes='32x32' type='image/png'>
<link href='/favicon/favicon-16x16-d0c2b051.png' rel='icon' sizes='16x16' type='image/png'>
<link href='/favicon/favicon-128-2f649ba2.png' rel='icon' sizes='128x128' type='image/png'>
<meta content='Â ' name='application-name'>
<meta content='#FFFFFF' name='msapplication-TileColor'>
<meta content='/favicon/mstile-144x144-bd50bc10.png' name='msapplication-TileImage'>
<meta content='/favicon/mstile-70x70-2f649ba2.png' name='msapplication-square70x70logo'>
<meta content='/favicon/mstile-150x150-999c62ba.png' name='msapplication-square150x150logo'>
<meta content='/favicon/mstile-310x150-37756fac.png' name='msapplication-wide310x150logo'>
<meta content='/favicon/mstile-310x310-6bd894f0.png' name='msapplication-square310x310logo'>
<title>
Flashing SiLabs xRotor 20a with BlHeli via C2 4w-if
</title>
<link href="/assets/stylesheets/all-9c4dcd92.css" rel="stylesheet" />
<script src="/assets/javascripts/all-d5b91b8e.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-7406390-2', 'auto');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  
    // outbound link tracking
    // http://www.sitepoint.com/track-outbound-links-google-analytics/
    (function($) {
      "use strict";
      // current page host
      var baseURI = window.location.host;
      // click event on body
      $("body").on("click", function(e) {
        // abandon if link already aborted or analytics is not available
        if (e.isDefaultPrevented() || typeof ga !== "function") return;
        // abandon if no active link or link within domain
        var link = $(e.target).closest("a");
        if (link.length != 1 || baseURI == link[0].host) return;
        // cancel event and record outbound link
        e.preventDefault();
        var href = link[0].href;
        ga('send', {
          'hitType': 'event',
          'eventCategory': 'outbound',
          'eventAction': 'link',
          'eventLabel': href,
          'hitCallback': loadPage
        });
        // redirect after one second if recording takes too long
        setTimeout(loadPage, 1000);
        // redirect to outbound page
        function loadPage() {
          document.location = href;
        }
      });
    })(jQuery);
</script>

<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
</head>
<body>
<nav class='navbar navbar-default' id='top' role='navigation'>
<div class='container'>
<div class='navbar-header'>
<div class='navbar-brand'>
<a href='/blog/'>
<img src="/assets/images/home/smile-0289c4fe.jpg" />
</a>
<span>Flashing SiLabs xRotor 20a with BlHeli via C2 4w-if</span>
</div>
<button class='navbar-toggle' data-target='.navbar-collapse' data-toggle='collapse' type='button'>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
</button>
<div class='navbar-right collapse navbar-collapse' id='bs-nav-collapse'>
<ul class='nav navbar-nav'>
<li>
<form class='search navbar-form' role='search'>
<div class='form-group'>
<input class='form-control bloodhound typeahead' data-articles='[["BetaFlight Kiss Flight Controller","/blog/2016/07/29/betaflight-kiss-flight-controller/"],["J-Link Getting Started Guide","/blog/2016/07/25/j-link-getting-started-guide/"],["Eachine EV800 Review","/blog/2016/07/10/eachine-ev800-review/"],["Eachine Goggles One Review","/blog/2016/07/10/eachine-goggles-one-review/"],["FlySky i6 Radio Setup and Hacking Guide","/blog/2016/07/09/flysky-i6-radio-setup-and-hacking-guide/"],["BetaFlight Spektrum Satellite Receiver Guide","/blog/2016/07/09/betaflight-spektrum-satellite-receiver-guide/"],["Omnibus Flight Controller and Airbot Typhoon 180 Miniquad Build","/blog/2016/07/07/omnibus-typhoon-miniquad/"],["FPV Goggle Guide","/blog/2016/06/22/fpv-goggle-guide/"],["HobbyKing Quanum V2 Pro Goggles","/blog/2016/05/11/hobbyking-quanum-v2-pro-goggles/"],["Drone Building 101 with the HobbyKing FPV Starter Setup","/blog/2016/05/08/drone-building-101-with-the-hobbyking-fpv-starter-setup/"],["STM32 hardfault debugging","/blog/2016/05/04/stm32-hardfault-debugging/"],["Eachine VR-007 Goggle Review","/blog/2016/04/25/eachine-vr-007-goggle-review/"],["Rctimer BeeRotor u210 mini quad build, setup and review","/blog/2016/04/24/rctimer-u210-mini-quad-build-setup-and-review/"],["AirBot Flip32 F3 AIO Lite and Typhoon 4-in-1 ESC","/blog/2016/04/11/airbot-flip32-f3-aio-lite-and-typhoon-4-in-1-esc/"],["DYS X160 v3","/blog/2016/04/05/dys-x160-v3/"],["Turnigy Reaktor 250W Charger","/blog/2016/04/02/turnigy-reaktor-250w-charger/"],["HobbyKing Graphene and Bolt High Voltage LiPo Battery Analysis","/blog/2016/03/25/hobbyking-graphene-battery-analysis/"],["BetaFlight in-flight PID tuning","/blog/2016/03/24/betaflight-in-flight-pid-tuning/"],["Drone Building at Maker Faire Bay Area 2016","/blog/2016/03/23/drone-building-at-maker-faire-bay-area-2016/"],["Rctimer BR-X200 Mini-quad Build, Setup and Review","/blog/2016/03/22/rctimer-br-x200-mini-quad-build-setup-and-review/"],["AVR Dissassembly","/blog/2016/02/25/avr-dissassembly/"],["Victory230 FPV Mini-quad Setup and Review","/blog/2016/02/10/rctimer-victory230-fpv-miniquad/"],["FrSky RX SBUS and Frsky DJT Module","/blog/2016/02/09/airwolf-diy-frsky-rx-sbus/"],["HMDVR FPV Video Recorder","/blog/2016/02/06/hmdvr-fpv-video-recorder/"],["Rctimer BeerotorF3 Flight Controller","/blog/2016/02/03/rctimer-beerotorf3-flight-controller/"],["Flying Sony NEX Micro 4/3rds Camera","/blog/2016/01/29/flying-micro-4-3rds-camera/"],["Q600 Quadcopter","/blog/2016/01/29/rctimer-q600-quadcopter/"],["ASP micro 4/3rds Gimbal and SimpleBGC 32-bit Gimbal Controller","/blog/2016/01/29/rctimer-asp-micro-4-3rds-gimbal-and-simplebgc-32-bit-gimbal-controller/"],["PixHawk Flashing and Setup","/blog/2016/01/29/rctimer-fixhawk-pixhawk-flashing-and-setup/"],["BlHeli ESCs","/blog/2015/12/06/blheli-esc-identification/"],["BlHeli ESC Upgrading and Configuration","/blog/2015/12/06/blheli-configuration/"],["BlHeli CleanFlight ESC Calibration","/blog/2015/12/06/blheli-calibration/"],["Rctimer Micro 160 BeeRotor Build, Setup and Review","/blog/2015/12/05/rctimer-micro-160-beerotor-build-setup-and-review/"],["Flashing SiLabs xRotor 20a with BlHeli via C2 4w-if","/blog/2015/11/16/flashing-xrotor-20a-with-blheli-via-4w-if/"],["Rctimer OZE32 / RTFQ Flip32 AIO Integrated Flight Controller Review and Setup","/blog/2015/11/09/rctimer-oze32-integrated-flight-controller-review-and-setup/"],["Rooting Marshmellow, keeping SELinux","/blog/2015/11/03/rooting-marshmellow-keeping-selinux/"],["MultiRotor Setup Checklist","/blog/2015/10/29/multirotor-setup-checklist/"],["ST-LINK flash and debug on the SPRacingF3","/blog/2015/10/24/st-link-flash-and-debug-on-the-spracingf3-discovery/"],["Debugging Android Native (NDK) Apps","/blog/2015/09/27/debugging-android-native-ndk-apps/"],["Fixing an Arduino 0x000000 Error","/blog/2015/09/16/fixing-an-arduino-0x000000-error/"],["GPS VK16U6 CleanFlight Setup","/blog/2015/08/26/gps-vk16u6-cleanflight-setup/"],["Go FPV Latency Testing","/blog/2015/08/24/go-fpv-latency-testing/"],["Building Android on Ubuntu 14.04","/blog/2015/07/23/building-android-on-ubuntu-14-04/"],["Migrating to Amazon Elastic Map Reduce (EMR)","/blog/2015/07/15/migrating-to-amazon-elastic-map-reduce-emr/"],["Naze32 ST-Link Debugging","/blog/2015/07/06/naze32-st-link-debugging/"],["Decompiling an APK","/blog/2015/06/30/decompiling-an-apk/"],["Nexpose Community Edition copy Scan Template","/blog/2015/06/17/nexpose-community-edition-copy-scan-template/"],["Wireless Video Tx/Rx FPV Channels","/blog/2015/06/17/boscam-tx-rx-fpv-channels/"],["Making a UHF 433mhz Inverted Vee Antenna Set","/blog/2015/06/15/making-a-uhf-433mhz-inverted-vee-antenna-set/"],["Setup OrangeLRS with OpenLRSng","/blog/2015/05/21/setup-orangelrs-with-openlrsng/"],["Go FPV Goggles","/blog/2015/05/21/go-fpv-goggles/"],["FPV250 with Cleanflight, Minimosd, OpenLRSng and a Xiaomi Yi GoPro Clone","/blog/2015/05/19/fpv250-cleanflight/"],["Flashing BlHeli on HobbyKing BlueSeries 12a ESCs With a Chinese Arduino Nano Clone","/blog/2015/05/15/flashing-blheli-on-hobbyking-blueseries-12a-escs-with-a-chinese-arduino-nano-clone/"],["Flashing NodeMCU on the ESP8266","/blog/2015/05/14/flashing-nodemcu-on-the-esp8266/"],["Ebay HC-05 Bluetooth Setup Guide","/blog/2015/05/12/ebay-hc-05-bluetooth-setup-guide/"],["3D Camera on the Tricopter","/blog/2015/05/12/3d-camera-on-the-tricopter/"],["ProRes editing in Premier","/blog/2015/05/11/prores-editing-in-photoshop/"],["Xiaomi Yi -- The Ant Camera","/blog/2015/05/08/xiaomi-yi-the-ant-camera/"],["Minim OSD","/blog/2015/04/22/minim-osd/"],["Flashing BlHeli on HobbyKing F20 ESCs With a Chinese Arduino Nano Clone","/blog/2015/04/20/flashing-blheli-on-hobbyking-f20-escs-with-a-chinese-arduino-nano-clone/"],["Handling Dates in Hadoop Pig","/blog/2015/04/17/handling-dates-in-hadoop-pig/"],["LiPo Battery Price Analysis","/blog/2015/04/10/lipo-battery-price-analysis/"],["ADB over WiFi (aka, how do I debug when using USB host mode?)","/blog/2015/03/27/adb-over-wifi-aka-how-do-i-debug-when-using-usb-host-mode/"],["Shrink a linux VM on OSX","/blog/2015/03/18/shrink-a-linux-vm-on-osx/"],["Mounting a VHD NTFS image on Ubuntu","/blog/2015/02/27/mounting-a-vhd-ntfs-image-on-ubuntu/"],["Ubuntu on the Beaglebone Black","/blog/2015/01/16/ubuntu-on-the-beaglebone-black/"],["Configuring the HK-T6A for a Flight Simulator","/blog/2015/01/02/configuring-the-hk-t6a-for-a-flight-simulator/"],["A complete noob&#x0027;s guide to RC","/blog/2015/01/02/a-complete-noobs-guide-to-rc/"],["DropCam on a Captive Portal","/blog/2014/11/17/dropcam-on-a-captive-portal/"],["Java reversing tips","/blog/2014/09/18/java-reversing-tips/"],["Ooize Data Pipeline Done-Flag","/blog/2014/09/02/oozie-data-pipeline-done-flag/"],["Time Machine on exFat","/blog/2014/08/06/Time_Machine_on_exFat/"],["Optimizing Postgresql","/blog/2014/01/31/Optimizing_Postgresql/"],["Mail Maker","/blog/2014/01/24/Mail_Maker/"],["Angularjs and Rails","/blog/2013/07/12/Angularjs_and_Rails/"],["nginx ssl chained certs","/blog/2013/04/24/nginx_ssl_chained_certs/"],["rails log tagging","/blog/2013/04/24/rails_log_tagging/"],["Converting an Android Project to Maven","/blog/2013/04/16/Converting_an_Android_Project_to_Maven/"],["Oh! Map my rails!","/blog/2013/04/09/Oh_Map_my_rails/"],["mysql permissions","/blog/2013/04/09/mysql_permissions/"],["reset mysql slave","/blog/2013/03/29/reset_mysql_slave/"],["installing rmagick on 10.8 with homebrew","/blog/2013/02/14/installing_rmagick_on_108_with_homebrew/"],["NP-Completeness","/blog/2013/02/08/NP-Completeness/"],["Find and replace non-breaking spaces in vim","/blog/2013/02/01/Find_and_replace_non-breaking_spaces_in_vim/"],["Open Resty the Prebuilt Reverse Proxy","/blog/2013/02/01/Open_Resty_the_Prebuilt_Reverse_Proxy/"],["Sublime Text 2 Tweaks","/blog/2012/12/17/Sublime_Text_2_Tweaks/"],["Batch Convert CR2 to JPG","/blog/2012/12/01/Batch_Convert_CR2_to_JPG/"],["Androids in the wild","/blog/2012/06/30/Androids_in_the_wild/"],["Why you need database_cleaner","/blog/2012/06/11/Why_you_need_database_cleaner/"],["Find and replace in files on linux/unix","/blog/2012/05/12/Find_and_replace_in_files_on_linuxunix/"],["a pithy guide to railsconf 2012","/blog/2012/04/26/a_pithy_guide_to_railsconf_2012/"],["faster rails boot ruby 1.9.3 + debugger","/blog/2012/04/12/faster_rails_boot_ruby_193_debugger/"],["homebrew -- fix that nasty mysql.server start segfault","/blog/2012/03/29/homebrew_--_fix_that_nasty_mysqlserver_start_segfault/"],["read/write filesystem on rooted android for an ad-free android experience","/blog/2012/02/14/readwrite_filesystem_on_rooted_android_for_an_ad-free_android_experience/"],["Turn Wikipedia Back On","/blog/2012/01/17/Turn_Wikipedia_Back_On/"],["compiling qt4 on centos 5","/blog/2012/01/06/compiling_qt4_on_centos_5/"],["pip install pymongo with xcode 4","/blog/2011/08/09/pip_install_pymongo_with_xcode_4/"],["interactive python history -- better titled \"gimme some up arrow love\"","/blog/2011/08/05/interactive_python_history_--_better_titled_gimme_some_up_arrow_love/"],["Centos 5.5 yum repo sha256 fix","/blog/2011/07/27/Centos_55_yum_repo_sha256_fix/"],["Apple Keyboard for Android!","/blog/2011/07/15/Apple_Keyboard_for_Android/"],["jQuery Everywhere","/blog/2011/05/24/jQuery_Everywhere/"],["Django Migrations","/blog/2011/05/11/Django_Migrations/"],["RVM + Rails + Git + HTML5 Boiler Plate... What more could you possibly want?","/blog/2011/02/22/RVM_Rails_Git_HTML5_Boiler_Plate_What_more_could_you_possibly_want/"],["OneCast 2.0 - downloadable podcasts for androids of every color","/blog/2011/02/18/OneCast_20_-_downloadable_podcasts_for_androids_of_every_color/"],["Default Android Menu Icons in Your App","/blog/2011/02/17/Default_Android_Menu_Icons_in_Your_App/"],["Windows 7 x64 Android Development (ADB)","/blog/2010/11/06/Windows_7_x64_Android_Development_ADB/"],["Firefox Plugin - Watching for an Application Exit Event","/blog/2010/05/03/Firefox_Plugin_-_Watching_for_an_Application_Exit_Event/"],["Stop Redrawing a Fixed Orientation Android App","/blog/2010/03/08/Stop_Redrawing_a_Fixed_Orientation_Android_App/"]]' placeholder='Search' type='text'>
</div>
</form>
</li>
</ul>
</div>
</div>
</div>
</nav>

<div class='container'>
<div class='row row-offcanvas row-offcanvas-left'>
<!-- sidebar -->
<div class='col-xs-3 col-sm-3 sidebar-offcanvas'>
<div id='sidebar' role='navigation'>
<div class='sidebar-contents'>
<div class='row'>
<div class='col-lg-12 page-header'>
<a href='#top'>Contents</a>
</div>
</div>
<div class='row'>
<div class='col-lg-12 table-of-contents'>
<ul class="nav"><li><a class="type-h3" href="#hardware"><h3>Hardware</h3></a></li>
<li><a class="type-h3" href="#tools"><h3>Tools</h3></a></li><ul><li><a class="type-h4" href="#arduino"><h4>Arduino</h4></a></li>
<li><a class="type-h4" href="#windows"><h4>Windows</h4></a></li>
<li><a class="type-h4" href="#blheli-suite"><h4>BlHeli Suite</h4></a></li>
<li><a class="type-h4" href="#wiring"><h4>Wiring</h4></a></li></ul>
<li><a class="type-h3" href="#flash"><h3>Flash</h3></a></li><ul><li><a class="type-h4" href="#install-the-driver"><h4>Install the driver</h4></a></li>
<li><a class="type-h4" href="#find-the-com-port"><h4>Find the COM port</h4></a></li>
<li><a class="type-h4" href="#make-the-4-way-interface"><h4>Make the 4 way interface</h4></a></li>
<li><a class="type-h4" href="#connect-your-programmer"><h4>Connect your programmer</h4></a></li>
<li><a class="type-h4" href="#flashing"><h4>Flashing</h4></a></li>
<li><a class="type-h4" href="#configuration"><h4>Configuration</h4></a></li>
<li><a class="type-h4" href="#calibration"><h4>Calibration</h4></a></li></ul>
<li><a class="type-h3" href="#reading"><h3>Reading</h3></a></li></ul>
</div>
</div>
<div class='row'>
<div class='col-lg-12 page-header'>
Related Articles
</div>
</div>
<div class='row'>
<div class='col-lg-12 related'>
<ul>
<li><a href="/blog/2016/07/29/betaflight-kiss-flight-controller/">BetaFlight Kiss Flight Controller</a></li>
<li><a href="/blog/2015/04/20/flashing-blheli-on-hobbyking-f20-escs-with-a-chinese-arduino-nano-clone/">Flashing BlHeli on HobbyKing F20 ESCs With a Chinese Arduino Nano Clone</a></li>
<li><a href="/blog/2015/12/06/blheli-configuration/">BlHeli ESC Upgrading and Configuration</a></li>
<li><a href="/blog/2016/05/11/hobbyking-quanum-v2-pro-goggles/">HobbyKing Quanum V2 Pro Goggles</a></li>
<li><a href="/blog/2016/02/06/hmdvr-fpv-video-recorder/">HMDVR FPV Video Recorder</a></li>
<li><a href="/blog/2016/04/11/airbot-flip32-f3-aio-lite-and-typhoon-4-in-1-esc/">AirBot Flip32 F3 AIO Lite and Typhoon 4-in-1 ESC</a></li>
</ul>
</div>
</div>
<div class='row'>
<div class='col-lg-12 page-header'></div>
</div>
<div class='row'>
<div class='col-lg-12 text-center'>
Checkout my other guides at
<a href='/blog'>nathan.vertile.com/blog</a>
</div>
</div>
<div class='row'>
<div class='col-lg-12 page-header text-center'>
<div class='drawer-footer'>
<small>
Â©
<a href='mailto:nathan@vertile.com'>Nathan Tsoi</a>
</small>
</div>
</div>
</div>
<div class='row last'>
<div class='col-lg-12 text-center'>
<a class='btn-sm btn-default' href='https://github.com/nathantsoi' target='_blank'>
<i class='fa fa-github'></i>
</a>
<a class='btn-sm btn-default' href='https://bitbucket.org/nathantsoi' target='_blank'>
<i class='fa fa-bitbucket'></i>
</a>
<a class='btn-sm btn-default' href='https://twitter.com/nathantsoi/' target='_blank'>
<i class='fa fa-twitter'></i>
</a>
<a class='btn-sm btn-default' href='https://angel.co/nathantsoi' target='_blank'>
<i class='fa fa-angellist'></i>
</a>
<a class='btn-sm btn-default' href='https://linkedin.com/in/nattsoi/' target='_blank'>
<i class='fa fa-linkedin'></i>
</a>
<a class='btn-sm btn-default' href='https://facebook.com/nathantsoi' target='_blank'>
<i class='fa fa-facebook'></i>
</a>
<a class='btn-sm btn-default' href='https://plus.google.com/112518806102274696668' target='_blank'>
<i class='fa fa-google-plus'></i>
</a>
<a class='btn-sm btn-default' href='https://news.ycombinator.com/user?id=natvert' target='_blank'>
<i class='fa fa-hacker-news'></i>
</a>
<a class='btn-sm btn-default' href='https://trello.com/nathantsoi' target='_blank'>
<i class='fa fa-trello'></i>
</a>
</div>
</div>
</div>
</div>
</div>

<!-- main area -->
<div class='col-sm-9 col-xs-12' id='mainbar'>
<article>
<p>This guide describes how to flash the BlHeli and the BlHeli Bootloader to XRotor 20a ESCs so that they can be updated via CleanFlight and BetaFlight after installing them in your multi-rotor, without unplugging them from the flight controller!</p>

<div class='ratio-box-resizer img-half-width'><div class='ratio-box' style='padding-bottom: 75.0%;'><a id="assets-images-blog-xrotor-a-xrotor-a-size-d-ed-jpg" href="http://www.banggood.com/Hobbywing-XRotor-20A-APAC-Brushless-ESC-3-4S-For-RC-Multicopters-p-945929.html?p=1G09211226617201502J" class="linked-img "><img src='/assets/images/blog/xrotor20a/xrotor20a-size-70d576ed.jpg' class='trailing-space' ></img></a></div></div>

<p>There are two types microprocessors used on ESCS, one is made by Atmel and the other by SiLabs. Since the XRotor 20a uses a SiLabs processor, these instructions are generally applicable to other SiLabs based ESCs. You&#39;ll just need to identify the C2 interface pads on the circuit board. These pads are described in the documentation here: <a href="https://github.com/bitdump/BLHeli/raw/master/SiLabs/BLHeli%20supported%20SiLabs%20ESCs.pdf">Supported SiLabs ESCs</a>.</p>

<h3 id="hardware">Hardware</h3>

<div class='ratio-box-resizer img-half-width'><div class='ratio-box' style='padding-bottom: 75.0%;'><a id="assets-images-blog-xrotor-a-xrotor-a-packaged-be-jpg" href="http://www.banggood.com/Hobbywing-XRotor-20A-APAC-Brushless-ESC-3-4S-For-RC-Multicopters-p-945929.html?p=1G09211226617201502J" class="linked-img "><img src='/assets/images/blog/xrotor20a/xrotor20a-packaged-41271be0.jpg' class='trailing-space' ></img></a></div></div>

<p>At 15g weight, with wires, these things aren&#39;t super light.</p>

<div class='ratio-box-resizer img-half-width'><div class='ratio-box' style='padding-bottom: 75.0%;'><a id="assets-images-blog-xrotor-a-xrotor-a-weight-a-d-a-jpg" href="http://www.banggood.com/Hobbywing-XRotor-20A-APAC-Brushless-ESC-3-4S-For-RC-Multicopters-p-945929.html?p=1G09211226617201502J" class="linked-img "><img src='/assets/images/blog/xrotor20a/xrotor20a-weight-a00d8a30.jpg' class='trailing-space' ></img></a></div></div>
 

<p>Take off the heatsink to save 2g, no idea how this will effect performance and reliability so do this at your own risk.</p>

<div class='ratio-box-resizer img-half-width'><div class='ratio-box' style='padding-bottom: 133.33333333333331%;'><a id="assets-images-blog-xrotor-a-xrotor-a-heatsink-e-de-jpg" href="/assets/images/blog/xrotor20a/xrotor20a-heatsink-6e54de18.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/xrotor20a-heatsink-6e54de18.jpg' class='trailing-space' ></img></a></div></div>

<h3 id="tools">Tools</h3>

<h4 id="arduino">Arduino</h4>

<ul>
<li>You&#39;ll need a <a href="http://www.banggood.com/ATmega328P-Arduino-Compatible-Nano-V3-Improved-Version-No-Cable-p-959231.html?p=1G09211226617201502J">$3.60 Chinese Arduino Nano Clone</a>:</li>
</ul>

<div class='ratio-box-resizer img-quarter-width'><div class='ratio-box' style='padding-bottom: 39.16015625%;'><a id="assets-images-blog-nano-clone-pins-a-d-jpg" href="http://www.banggood.com/ATmega328P-Arduino-Compatible-Nano-V3-Improved-Version-No-Cable-p-959231.html?p=1G09211226617201502J" class="linked-img "><img src='/assets/images/blog/nano_clone/pins-985a90d0.jpg' class='trailing-space' ></img></a></div></div>

<ul>
<li><p>If you use this specific Nano clone, it uses a ch340g usb chip, the driver for which is here: <a href="http://www.wch.cn/downfile/65">http://www.wch.cn/downfile/65</a></p></li>
<li><p>I also tried this process with a bunch of different Arduino including the Pro Mini and Uno. I couldn&#39;t get it to work. My guess is that there might be an issue with the hex files for other Arduino versions. Your best bet is to use a nano.</p></li>
</ul>

<h4 id="windows">Windows</h4>

<p>Since we&#39;ll be using BlHeliSuite, which is Windows only, we&#39;ll need a VM for Linux or Mac, skip this if you already have a Windows computer. I used Vmware Fusion and <a href="https://www.modern.ie/en-us/virtualization-tools">this free Windows XP VM</a>, straight from Microsoft:</p>
<pre class="highlight plaintext"><code>curl -O -L "https://www.modern.ie/vmdownload?browserOS=IE6-XP&amp;parts=2&amp;platform=Mac&amp;virtPlatform=vmware&amp;filename=VMBuild_20141027/VMware/IE6/Mac/IE6.XP.For.Mac.VMware.zip{.001,.002}"
</code></pre>

<h4 id="blheli-suite">BlHeli Suite</h4>

<p>Download the latest BlHeli Suite: <a href="http://blhelisuite.wordpress.com">blhelisuite.wordpress.com</a>.</p>

<h4 id="wiring">Wiring</h4>

<p>The xrotor 20a escs come with these solder pads exposed to access the C2 interface we&#39;ll be using to flash them:</p>

<div class='ratio-box-resizer img-half-width'><div class='ratio-box' style='padding-bottom: 72.55859375%;'><a id="assets-images-blog-xrotor-a-c-pads-daa-c-f-jpg" href="/assets/images/blog/xrotor20a/c2-pads-daa5c88f.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/c2-pads-daa5c88f.jpg' class='trailing-space' ></img></a></div></div>

<p>They connect to your Arduino Nano like this:</p>

<div class='ratio-box-resizer img-half-width'><div class='ratio-box' style='padding-bottom: 77.34375%;'><a id="assets-images-blog-xrotor-a-nano-c-pinout-e-f-c-jpg" href="/assets/images/blog/xrotor20a/nano-c2-pinout-e07f019c.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/nano-c2-pinout-e07f019c.jpg' class='trailing-space' ></img></a></div></div>

<div class='ratio-box-resizer img-half-width'><div class='ratio-box' style='padding-bottom: 66.40625%;'><a id="assets-images-blog-xrotor-a-nano-pins-c-b-jpg" href="/assets/images/blog/xrotor20a/nano-pins-654c62b4.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/nano-pins-654c62b4.jpg' class='trailing-space' ></img></a></div></div>

<p>If you&#39;re unsure where to solder the leads onto your ESC, you can verify the solder pad connections to the pins on the F330 microcontroller with a multi-meter in continuity mode.</p>

<div class='ratio-box-resizer img-half-width'><div class='ratio-box' style='padding-bottom: 92.578125%;'><a id="assets-images-blog-xrotor-a-f-pinout-ed-c-jpg" href="/assets/images/blog/xrotor20a/f330-pinout-ed98293c.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/f330-pinout-ed98293c.jpg' class='trailing-space' ></img></a></div></div>

<p>First, I made a programming cable that matches these pads, but there appears to be a thin layer of epoxy or something covering the board. I tried cleaning the pads with alcohol, but it didn&#39;t help. </p>

<p>Since I couldn&#39;t get good contact just holding the pins against the ESC, I ended up soldering leads onto each ESC. Soldering worked fine. It doesn&#39;t take too long, so consider just soldering temporary leads before building a cable.</p>

<div class='ratio-box-resizer img-half-width'><div class='ratio-box' style='padding-bottom: 66.40625%;'><a id="assets-images-blog-xrotor-a-soldered-ebdbc-f-jpg" href="/assets/images/blog/xrotor20a/soldered-ebdbc18f.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/soldered-ebdbc18f.jpg' class='trailing-space' ></img></a></div></div>

<h3 id="flash">Flash</h3>

<h4 id="install-the-driver">Install the driver</h4>

<p>Boot your <a href="https://www.modern.ie/en-us/virtualization-tools">VM</a> (if you&#39;re on a Mac), unzip BlHeliSuite, install the <a href="http://www.wch.cn/downfile/65">Arduino USB Driver</a> and plug in the Arduino.</p>

<h4 id="find-the-com-port">Find the COM port</h4>

<p>Find the COM port in use by your adapter by looking in the Computer Management (Right-Click &quot;My Computer&quot; -&gt; &quot;Manage&quot;) under Device Manager, COM ports. Mine is <code>COM6</code>.</p>

<h4 id="make-the-4-way-interface">Make the 4 way interface</h4>

<p>Open the <code>Make Interfaces</code> tab, pick the Arduino Board: <code>Nano W/ ATmega328</code> choose your COM port and click &quot;Arduino 4way-interface&quot;</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 78.80859375%;'><a id="assets-images-blog-xrotor-a-bl-b-d-jpg" href="/assets/images/blog/xrotor20a/bl-1-4b4387d6.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/bl-1-4b4387d6.jpg' class='trailing-space' ></img></a></div></div>

<p>Pick the <code>4wArduino_Nano__16_MULTIv[lates version number].hex</code></p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 79.00390625%;'><a id="assets-images-blog-xrotor-a-bl-b-da-jpg" href="/assets/images/blog/xrotor20a/bl-2-78b0da87.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/bl-2-78b0da87.jpg' class='trailing-space' ></img></a></div></div>

<p>Hit <code>open</code> and it will start flashing your Arduino, making it into a SiLabs C2 programming stick.</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 78.7109375%;'><a id="assets-images-blog-xrotor-a-bl-b-d-bf-jpg" href="/assets/images/blog/xrotor20a/bl-3-88b8d4bf.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/bl-3-88b8d4bf.jpg' class='trailing-space' ></img></a></div></div>

<p>It will say &quot;Thank you&quot; when done -- you&#39;re welcome!</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 79.1015625%;'><a id="assets-images-blog-xrotor-a-bl-d-c-d-jpg" href="/assets/images/blog/xrotor20a/bl-4-230d3c7d.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/bl-4-230d3c7d.jpg' class='trailing-space' ></img></a></div></div>

<h4 id="connect-your-programmer">Connect your programmer</h4>

<p>Connect your programmer to the ESC as described in the <a href="#wiring">wiring</a> section.</p>

<p>Plug the ESC into a battery, preferably with a current limiting device like a light bulb or voltage regulator. So if something goes terribly wrong, your ESC isn&#39;t damaged.</p>

<h4 id="flashing">Flashing</h4>

<p>Once your ESC is plugged in, hit &quot;Connect&quot; then &quot;Read Setup,&quot; you should get a prompt like this, to flash BlHeli.</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 79.39453125%;'><a id="assets-images-blog-xrotor-a-bl-d-a-jpg" href="/assets/images/blog/xrotor20a/bl-5-d4a36119.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/bl-5-d4a36119.jpg' class='trailing-space' ></img></a></div></div>

<p>Pick the version of BlHeli that corresponds to your ESC, in this example we&#39;re using the <code>XROTOR 20A MULTI</code> code. There are 3 versions of BlHeli. You&#39;ll always want multi, unless you&#39;re doing something weird like flying a helicopter (not a multi-copter).</p>

<ul>
<li>Main: Intended for helicopter main motor</li>
<li>Tail: Intended for helicopter tail motor</li>
<li>Multi: Intended for multirotor motors</li>
</ul>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 78.90625%;'><a id="assets-images-blog-xrotor-a-bl-b-eb-jpg" href="/assets/images/blog/xrotor20a/bl-6-5b195eb3.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/bl-6-5b195eb3.jpg' class='trailing-space' ></img></a></div></div>

<p>&nbsp;</p>

<p>Confirm that you want to flash BlHeli, erasing the original firmware.</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 79.39453125%;'><a id="assets-images-blog-xrotor-a-bl-c-b-c-jpg" href="/assets/images/blog/xrotor20a/bl-7-c8b5951c.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/bl-7-c8b5951c.jpg' class='trailing-space' ></img></a></div></div>

<p>You&#39;ll see a confirmation box like this, click OK</p>

<div class='ratio-box-resizer img-three-quarters-width'><div class='ratio-box' style='padding-bottom: 79.32330827067669%;'><a id="assets-images-blog-xrotor-a-bl-a-jpg" href="/assets/images/blog/xrotor20a/bl-8-06a10770.jpg" class="linked-img colorbox"><img src='/assets/images/blog/xrotor20a/bl-8-06a10770.jpg' class='trailing-space' ></img></a></div></div>

<p>That&#39;s it. You&#39;re ready to configure your ESCs. </p>

<h4 id="configuration">Configuration</h4>

<p>You can do it here, while connected with the 4w programmer or use <a href="/blog/2015/12/06/blheli-configuration/#cleanflight-pass-through">CleanFlight/BetaFlight pass-through programming and configuration</a> once you&#39;ve installed the ESCs in your copter.</p>

<p><a href="/blog/2015/12/06/blheli-configuration/">Check out the configuration guide for more</a>.</p>

<h4 id="calibration">Calibration</h4>

<p>After configuring your ESCs, before you fly, make sure you <a href="/blog/2015/12/06/blheli-calibration/">calibrate your ESCs</a> so the throttle range of each ESC matches the others.</p>

<p><a href="/blog/2015/12/06/blheli-calibration/">Read the guide on throttle calibration here</a>.</p>

<h3 id="reading">Reading</h3>

<p><a href="https://github.com/bitdump/BLHeli/raw/master/SiLabs/BLHeli%20programming%20adapters.pdf">Programming Adapters</a> guide.</p>

<p>The <a href="https://raw.githubusercontent.com/bitdump/BLHeli/master/SiLabs/BLHeli%20manual%20SiLabs%20Rev14.x.pdf">manual</a> to learn more.</p>

<p><a href="http://buildandcrash.blogspot.com/2015/01/oneshot125-quantitative-testing.html">OneShot125 Testing</a></p>

<p><a href="https://github.com/TauLabs/TauLabs/wiki/User-Guide:-OneShot125">TauLabs 125 Explanation</a></p>

<div class='text-center' style='margin: 1em'>
Checkout my other guides at
<a href='/blog'>nathan.vertile.com/blog</a>
</div>
<div id="disqus_thread"></div>
<script type="text/javascript">
//<![CDATA[
                  var disqus_shortname = 'vertile';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</article>

</div>
</div>
</div>
</body>
</html>

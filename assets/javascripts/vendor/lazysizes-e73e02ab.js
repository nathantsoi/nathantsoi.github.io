!function(e,t){var i=t(e,e.document);e.lazySizes=i,"object"==typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd&&define(i)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var i,n=t.documentElement,a=e.HTMLPictureElement&&"sizes"in t.createElement("img"),s="addEventListener",o="getAttribute",r=e[s],l=e.setTimeout,c=e.requestAnimationFrame||l,d=/^picture$/i,u=["load","error","lazyincluded","_lazyloaded"],f={},m=Array.prototype.forEach,z=function(e,t){return f[t]||(f[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),f[t].test(e[o]("class")||"")&&f[t]},g=function(e,t){z(e,t)||e.setAttribute("class",(e[o]("class")||"").trim()+" "+t)},v=function(e,t){var i;(i=z(e,t))&&e.setAttribute("class",(e[o]("class")||"").replace(i," "))},y=function(e,t,i){var n=i?s:"removeEventListener";i&&y(e,t),u.forEach(function(i){e[n](i,t)})},h=function(e,i,n,a,s){var o=t.createEvent("CustomEvent");return o.initCustomEvent(i,!a,!s,n||{}),e.dispatchEvent(o),o},p=function(t,n){var s;!a&&(s=e.picturefill||i.pf)?s({reevaluate:!0,elements:[t]}):n&&n.src&&(t.src=n.src)},C=function(e,t){return(getComputedStyle(e,null)||{})[t]},b=function(e,t,n){for(n=n||e.offsetWidth;n<i.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},A=function(t){var i,n=0,a=e.Date,s=function(){i=!1,n=a.now(),t()},o=function(){l(s)},r=function(){c(o)};return function(){if(!i){var e=125-(a.now()-n);i=!0,6>e&&(e=6),l(r,e)}}},E=function(){var a,u,f,b,E,M,w,_,x,W,B,S,L,R,D,T=/^img$/i,k=/^iframe$/i,F="onscroll"in e&&!/glebot/.test(navigator.userAgent),O=0,P=0,$=0,H=0,I=function(e){$--,e&&e.target&&y(e.target,I),(!e||0>$||!e.target)&&($=0)},j=function(e,i){var a,s=e,o="hidden"==C(t.body,"visibility")||"hidden"!=C(e,"visibility");for(x-=i,S+=i,W-=i,B+=i;o&&(s=s.offsetParent)&&s!=t.body&&s!=n;)o=(C(s,"opacity")||1)>0,o&&"visible"!=C(s,"overflow")&&(a=s.getBoundingClientRect(),o=B>a.left&&W<a.right&&S>a.top-1&&x<a.bottom+1);return o},q=function(){var e,t,s,r,l,c,d,m,z;if((E=i.loadMode)&&8>$&&(e=a.length)){t=0,H++,null==R&&("expand"in i||(i.expand=n.clientHeight>600?n.clientWidth>860?500:410:359),L=i.expand,R=L*i.expFactor),R>P&&1>$&&H>3&&E>2?(P=R,H=0):P=E>1&&H>2&&6>$?L:O;for(;e>t;t++)if(a[t]&&!a[t]._lazyRace)if(F)if((m=a[t][o]("data-expand"))&&(c=1*m)||(c=P),z!==c&&(w=innerWidth+c*D,_=innerHeight+c,d=-1*c,z=c),s=a[t].getBoundingClientRect(),(S=s.bottom)>=d&&(x=s.top)<=_&&(B=s.right)>=d*D&&(W=s.left)<=w&&(S||B||W||x)&&(f&&3>$&&!m&&(3>E||4>H)||j(a[t],c))){if(V(a[t]),l=!0,$>9)break}else!l&&f&&!r&&4>$&&4>H&&E>2&&(u[0]||i.preloadAfterLoad)&&(u[0]||!m&&(S||B||W||x||"auto"!=a[t][o](i.sizesAttr)))&&(r=u[0]||a[t]);else V(a[t]);r&&!l&&V(r)}},G=A(q),J=function(e){g(e.target,i.loadedClass),v(e.target,i.loadingClass),y(e.target,J)},K=function(e,t){try{e.contentWindow.location.replace(t)}catch(i){e.src=t}},Q=function(e){var t,n,a=e[o](i.srcsetAttr);(t=i.customMedia[e[o]("data-media")||e[o]("media")])&&e.setAttribute("media",t),a&&e.setAttribute("srcset",a),t&&(n=e.parentNode,n.insertBefore(e.cloneNode(),e),n.removeChild(e))},U=function(){var e,t=[],i=function(){for(;t.length;)t.shift()();e=!1};return function(n){t.push(n),e||(e=!0,c(i))}}(),V=function(e){var t,n,a,s,r,c,u,C=T.test(e.nodeName),A=C&&(e[o](i.sizesAttr)||e[o]("sizes")),E="auto"==A;(!E&&f||!C||!e.src&&!e.srcset||e.complete||z(e,i.errorClass))&&(E&&(u=e.offsetWidth),e._lazyRace=!0,$++,U(function(){e._lazyRace&&delete e._lazyRace,(r=h(e,"lazybeforeunveil")).defaultPrevented||(A&&(E?(N.updateElem(e,!0,u),g(e,i.autosizesClass)):e.setAttribute("sizes",A)),n=e[o](i.srcsetAttr),t=e[o](i.srcAttr),C&&(a=e.parentNode,s=a&&d.test(a.nodeName||"")),c=r.detail.firesLoad||"src"in e&&(n||t||s),r={target:e},c&&(y(e,I,!0),clearTimeout(b),b=l(I,2500),g(e,i.loadingClass),y(e,J,!0)),s&&m.call(a.getElementsByTagName("source"),Q),n?e.setAttribute("srcset",n):t&&!s&&(k.test(e.nodeName)?K(e,t):e.src=t),(n||s)&&p(e,{src:t})),v(e,i.lazyClass),(!c||e.complete)&&(c?I(r):$--,J(r))}))},X=function(){if(!f){if(Date.now()-M<999)return void l(X,999);var e,t=function(){i.loadMode=3,G()};f=!0,i.loadMode=3,$||(H?G():l(q)),r("scroll",function(){3==i.loadMode&&(i.loadMode=2),clearTimeout(e),e=l(t,99)},!0)}};return{_:function(){M=Date.now(),a=t.getElementsByClassName(i.lazyClass),u=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),D=i.hFac,r("scroll",G,!0),r("resize",G,!0),e.MutationObserver?new MutationObserver(G).observe(n,{childList:!0,subtree:!0,attributes:!0}):(n[s]("DOMNodeInserted",G,!0),n[s]("DOMAttrModified",G,!0),setInterval(G,999)),r("hashchange",G,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[s](e,G,!0)}),/d$|^c/.test(t.readyState)?X():(r("load",X),t[s]("DOMContentLoaded",G),l(X,2e4)),G(a.length>0)},checkElems:G,unveil:V}}(),N=function(){var e,n=function(e,t,i){var n,a,s,o,r=e.parentNode;if(r&&(i=b(e,r,i),o=h(e,"lazybeforesizes",{width:i,dataAttr:!!t}),!o.defaultPrevented&&(i=o.detail.width,i&&i!==e._lazysizesWidth))){if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),d.test(r.nodeName||""))for(n=r.getElementsByTagName("source"),a=0,s=n.length;s>a;a++)n[a].setAttribute("sizes",i);o.detail.dataAttr||p(e,o.detail)}},a=function(){var t,i=e.length;if(i)for(t=0;i>t;t++)n(e[t])},s=A(a);return{_:function(){e=t.getElementsByClassName(i.autosizesClass),r("resize",s)},checkElems:s,updateElem:n}}(),M=function(){M.i||(M.i=!0,N._(),E._())};return function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.7,hFac:.8,loadMode:2};i=e.lazySizesConfig||e.lazysizesConfig||{};for(t in n)t in i||(i[t]=n[t]);e.lazySizesConfig=i,l(function(){i.init&&M()})}(),{cfg:i,autoSizer:N,loader:E,init:M,uP:p,aC:g,rC:v,hC:z,fire:h,gW:b}}});